<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- This line makes sure the page looks good on all devices, including phones -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results - Campus Event Calendar</title>
    <!-- These lines connect our page to the style files that make it look nice -->
    <link rel="stylesheet" href="Style/style.css">
</head>
<body>
    <!-- This is the top part of the page with the main title -->
    <header>
        <h1>Campus Event Calendar</h1>
        <p>Stay updated on all the exciting events happening on campus!</p>
    </header>

    <!-- This is where the main content of the page goes -->
    <main class="container">
        <!-- This title will show what the user searched for -->
        <h2 id="search-title">Search Results</h2>
        <!-- This empty div will be filled with event information by our JavaScript code -->
        <div id="event-list" class="event-list">
            <!-- Events will be added here automatically -->
        </div>
    </main>

    <!-- This is the bottom part of the page -->
    <footer>
        <p>&copy; 2023 Campus Event Calendar</p>
    </footer>

    <!-- This connects our page to the JavaScript file that makes things work -->
    <script src="script.js"></script>
    
    <!-- This is a small bit of JavaScript code specifically for this page -->
    <script>
        // This part gets what the user searched for from the web address
        const urlParams = new URLSearchParams(window.location.search);
        const searchQuery = urlParams.get('query');

        // This changes the title to show what the user searched for
        document.getElementById('search-title').textContent = `Search Results for "${searchQuery}"`;

        // Add this to the script section in SearchResults.html
        try {
            // This part finds all the events that match what the user searched for
            const searchResults = searchEvents(searchQuery);
            
            // This part puts all the matching events on the page for the user to see
            displayEvents(searchResults);
        } catch (error) {
            console.error('Error fetching search results:', error);
            document.getElementById('event-list').innerHTML = `
                <div class="error-message">
                    <p>Unable to fetch results, please try again later.</p>
                    <button onclick="window.location.reload()" class="secondary-button">
                        Try Again
                    </button>
                </div>
            `;
        }
    </script>
</body>
</html>